{% extends "base.html" %}

{% block content %}
    <section class="admin-dashboard">
        <h2>Admin Dashboard</h2>
        <a href="{{ url_for('new_post') }}" class="btn">Create New Post</a>
        
        <div class="post-list">
            {% for post in posts %}
                <article class="post">
                    <h4>{{ post.title }}</h4>
                    <p>{{ post.content[:100] }}...</p>
                    <small>Posted by: {{ post.author.username }}</small>
                    <div class="actions">
                        <a href="{{ url_for('edit_post', post_id=post.id) }}" class="btn">Edit</a>
                        <form action="{{ url_for('delete_post', post_id=post.id) }}" method="POST" class="delete-form">
                            <button type="submit" class="btn danger">Delete</button>
                        </form>
                    </div>
                </article>
            {% else %}
                <p>No posts available.</p>
            {% endfor %}
        </div>
    </section>
{% endblock %}